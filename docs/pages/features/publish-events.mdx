---
title: Publish Events
---

Events are published in one of two ways:

1. To a configured message bus queue
2. By making an HTTP request to the publish API endpoint

Using the message bus queue allows for a higher publishing guarantee since there are no other dependencies than the message bus, and you may already be publishing events requiring minimal change on your end. However, since Outpost may need to create copies of the event (for each destination), events must be requested in the publish manage queue, therefore incurring higher costs.

Using the publishing API endpoint allows you to avoid implementing publishing to your service bus. It removes and reduces the initial publishing cost, but it adds the burden of ensuring the API is highly available and does not run out of resources.

The events need to follow the given structure:

```json
{
  "id": "123", // Optional but recommended. If left empty, ID will be generated by hashing the topic, data and timestamp
  "tenant_id": "12345",
  "destination_id": "12345", // Optional. Used to force delivery to a specific destination
  "topic": "something.created", // Optional. Assumed to match ANY topic if left empty.
  "eligible_for_retry": true, // Optional, default to "true". Control if an event should be retried.
  "time": "2024-06-01 08:23:36.082374Z", // ISO Timestamp of the event
  "metadata": {
    // Arbitrary key-value mapping for event
    "key": "value" // String, number or boolean
  },
  "data": {
    // Freeform JSON data
    "hello": "world"
  }
}
```

Each event (without a `destination_id`) is evaluated against all the registered destinations. An event is delivered and logged for each eligible destination.

The `metadata` is translated to the destination's native metadata, for instance, with Webhooks and HTTP headers. If the destination does not support metadata, the published data will be the full event.

## Event Fanout

A message published to a topic is automatically replicated and sent to multiple endpoints. This allows for parallel processing and asynchronous event notifications.
